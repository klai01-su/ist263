<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		/* Add your styles here */
		.movie-container {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 15px;
			margin-top: 20px;
		}

		.movie-box {
			border: 1px solid #ccc;
			padding: 10px;
			text-align: center;
		}

		/* Styles for the form layout */
		.form-container {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 15px;
			margin-bottom: 20px;
		}

		.form-container div {
			display: flex;
			flex-direction: column;
		}

		.form-container label {
			margin-bottom: 5px;
		}

		.form-container select,
		.form-container input,
		.form-container button {
			width: 100%;
		}
	</style>
	<title>Movie Filter</title>
</head>
<body>

<div class="form-container">
	<div>
		<label for="title">Movie Title:</label>
		<input type="text" id="title" name="title">
	</div>

	<div>
		<label for="releaseDate">Release Date:</label>
		<select id="releaseDate" name="releaseDate">
			<option value="">All</option>
			<!-- (unchanged) -->
		</select>
	</div>

	<div>
		<label for="genres">Genres:</label>
		<select id="genres" name="genres">
			<!-- (unchanged) -->
		</select>
	</div>

	<div>
		<label for="orderBy">Order By:</label>
		<select id="orderBy" name="orderBy">
			<!-- (unchanged) -->
		</select>
	</div>
</div>

<div class="movie-container" id="movieContainer">
</div>

<script>
	const movies = [
		{ title: "Oppenheimer", releaseYear: "2023", genres: ["War"], rating: 3.5 },
		{ title: "Mission: Impossible - Dead Reckoning Part One", releaseYear: "2023", genres: ["Action"], rating: 3.5 },
		{ title: "Spider-Man: Across the Spider-Verse", releaseYear: "2023", genres: ["Action", "Animation"], rating: 4 },
		{ title: "The Whale", releaseYear: "2022", genres: ["Drama"], rating: 3.5 },
		{ title: "Tar", releaseYear: "2022", genres: ["Drama"], rating: 3.5 },
		{ title: "Soul", releaseYear: "2020", genres: ["Animation"], rating: 3.5 },
		{ title: "The Wailing", releaseYear: "2016", genres: ["Horror"], rating: 4 },
		{ title: "Nightcrawler", releaseYear: "2014", genres: ["Thriller"], rating: 4.5 },
		{ title: "Whiplash", releaseYear: "2014", genres: ["Drama"], rating: 5 },
		{ title: "I Saw the Devil", releaseYear: "2010", genres: ["Thriller"], rating: 5 },
		// Add more movies as needed
	];

	const movieContainer = document.getElementById('movieContainer');

	function renderMovies(filteredMovies) {
		// Clear existing movie boxes
		movieContainer.innerHTML = '';

		// Render movie boxes
		filteredMovies.forEach(movie => {
			const movieBox = document.createElement('div');
			movieBox.classList.add('movie-box');
			movieBox.textContent = `${movie.title} (${movie.genres.join(', ')})`;
			movieContainer.appendChild(movieBox);
		});
	}

	function applyFilters() {
		const titleFilter = document.getElementById('title').value.toLowerCase();
		const releaseYearFilter = document.getElementById('releaseDate').value;
		const genreFilter = document.getElementById('genres').value.toLowerCase();
		const orderByFilter = document.getElementById('orderBy').value;

		// Apply filters to the movies
		const filteredMovies = movies.filter(movie => {
			const titleMatch = movie.title.toLowerCase().includes(titleFilter);
			const releaseYearMatch = releaseYearFilter === '' || movie.releaseYear === releaseYearFilter;
			const genreMatch = genreFilter === '' || movie.genres.includes(genreFilter);

			return titleMatch && releaseYearMatch && genreMatch;
		});

		// Sort the filtered movies if orderByFilter is provided
		if (orderByFilter === 'newestrelease') {
			filteredMovies.sort((a, b) => b.releaseYear.localeCompare(a.releaseYear));
		} else if (orderByFilter === 'oldestrelease') {
			filteredMovies.sort((a, b) => a.releaseYear.localeCompare(b.releaseYear));
		} else if (orderByFilter === 'highestrated') {
			filteredMovies.sort((a, b) => b.rating - a.rating);
		} else if (orderByFilter === 'lowestrated') {
			filteredMovies.sort((a, b) => a.rating - b.rating);
		} else if (orderByFilter === 'az') {
			filteredMovies.sort((a, b) => a.title.localeCompare(b.title));
		} else if (orderByFilter === 'za') {
			filteredMovies.sort((a, b) => b.title.localeCompare(a.title));
		}

		// Render the filtered and sorted movies
		renderMovies(filteredMovies);
	}

	// Initial rendering
	renderMovies(movies);

	// Listen for change events on form elements
	document.getElementById('title').addEventListener('input', applyFilters);
	document.getElementById('releaseDate').addEventListener('change', applyFilters);
	document.getElementById('genres').addEventListener('change', applyFilters);
	document.getElementById('orderBy').addEventListener('change', applyFilters);
</script>
</body>
</html>
