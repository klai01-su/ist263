<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>All Movie Reviews | Kaz Talks Movies</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<a href="http://klai01-su.github.io/ist263/project/"><h1 class="websitelogo">KAZ TALKS MOVIES</h1></a>
        <hr>
        <nav>
            <a href="http://klai01-su.github.io/ist263/project/">Latest Reviews</a>
            <a href="http://klai01-su.github.io/ist263/project/all-movie-reviews.html">All Movie Reviews</a>
        </nav>
        
		<div class="container">
			<h3>All Movie Reviews</h3>
			<div class="form-container">
				<div>
					<label for="title">Movie Title:</label>
					<input type="text" id="title" name="title">
				</div>

				<div>
					<label for="releaseDate">Release Date:</label>
					<select id="releaseDate" name="releaseDate">
						<option value="">All</option>
						<option value="2000">2000</option>
						<option value="2001">2001</option>
						<option value="2002">2002</option>
						<option value="2003">2003</option>
						<option value="2004">2004</option>
						<option value="2005">2005</option>
						<option value="2006">2006</option>
						<option value="2007">2007</option>
						<option value="2008">2008</option>
						<option value="2009">2009</option>
						<option value="2010">2010</option>
						<option value="2011">2011</option>
						<option value="2012">2012</option>
						<option value="2013">2013</option>
						<option value="2014">2014</option>
						<option value="2015">2015</option>
						<option value="2016">2016</option>
						<option value="2017">2017</option>
						<option value="2018">2018</option>
						<option value="2019">2019</option>
						<option value="2020">2020</option>
						<option value="2021">2021</option>
						<option value="2022">2022</option>
						<option value="2023">2023</option>
					</select>
				</div>

				<div>
					<label for="genres">Genres:</label>
					<select id="genres" name="genres">
						<option value="">All</option>
						<option value="action">Action</option>
						<option value="comedy">Comedy</option>
						<option value="drama">Drama</option>
						<option value="horror">Horror</option>
						<option value="sci-fi">Sci-Fi</option>
						<option value="fantasy">Fantasy</option>
						<option value="thriller">Thriller</option>
						<option value="romance">Romance</option>
						<option value="animation">Animation</option>
						<option value="crime">Crime</option>
						<option value="adventure">Adventure</option>
						<option value="mystery">Mystery</option>
						<option value="musical">Musical</option>
						<option value="western">Western</option>
						<option value="historical">Historical</option>
						<option value="war">War</option>
					</select>
				</div>

				<div>
					<label for="orderBy">Order By:</label>
					<select id="orderBy" name="orderBy">
						<option value="">None</option>
						<option value="newestrelease">Newest Release Date</option>
						<option value="oldestrelease">Oldest Release Date</option>
						<option value="highestrated">Highest Rated</option>
						<option value="lowestrated">Lowest Rated</option>
						<option value="az">A-Z</option>
						<option value="za">Z-A</option>
					</select>
				</div>
			</div>

			<div class="movie-container" id="movieContainer">
			</div>

			<script>
				const movies = [
					{ title: "Oppenheimer", releaseYear: "2023", genres: ["War", "Historical","Thriller"], rating: 3.5 },
					{ title: "Mission: Impossible - Dead Reckoning Part One", releaseYear: "2023", genres: ["Action"], rating: 3.5 },
					{ title: "Spider-Man: Across the Spider-Verse", releaseYear: "2023", genres: ["Action", "Animation"], rating: 4 },
					{ title: "The Whale", releaseYear: "2022", genres: ["Drama"], rating: 3.5 },
					{ title: "Tar", releaseYear: "2022", genres: ["Drama"], rating: 3.5 },
					{ title: "Soul", releaseYear: "2020", genres: ["Animation","Comedy"], rating: 3.5 },
					{ title: "The Wailing", releaseYear: "2016", genres: ["Horror"], rating: 4 },
					{ title: "Nightcrawler", releaseYear: "2014", genres: ["Thriller"], rating: 4.5 },
					{ title: "Whiplash", releaseYear: "2014", genres: ["Drama","Thriller"], rating: 5 },
					{ title: "I Saw the Devil", releaseYear: "2010", genres: ["Thriller","Action"], rating: 5 },
				];

			
				const movieContainer = document.getElementById('movieContainer');
			
				function renderMovies(filteredMovies) {
					movieContainer.innerHTML = '';
			
					filteredMovies.forEach(movie => {
						const movieBox = document.createElement('div');
						movieBox.classList.add('movie-box');
						

						const movieImage = document.createElement('img');
						const imageName = movie.title.toLowerCase().replace(/\s/g, '_').replace(/:/g, '-');
						movieImage.src = `project_images/${imageName}.png`;

						movieImage.alt = `${movie.title} stills/scene`;

						movieImage.onerror = function () {
							movieImage.src = `project_images/${imageName}.jpg`;
						};

						movieImage.style.width = '100%';

						const movieTitle = document.createElement('div');
						movieTitle.classList.add('movie-title');
						movieTitle.textContent = movie.title;


						movieBox.appendChild(movieImage);
						movieBox.appendChild(movieTitle);

				
						movieBox.addEventListener('click', function () {
							switch (movie.title.toLowerCase()) {
								case 'oppenheimer':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'mission: impossible - dead reckoning part one':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'spider-man: across the spider-verse':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'the whale':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'tar':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'soul':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'the wailing':
									window.location.href = 'https://klai01-su.github.io/ist263/project/the-wailing-review.html';
									break;
								case 'nightcrawler':
									window.location.href = 'https://klai01-su.github.io/ist263/project/';
									break;
								case 'whiplash':
									window.location.href = 'https://klai01-su.github.io/ist263/project/whiplash-review.html';
									break;
								case 'i saw the devil':
									window.location.href = 'https://klai01-su.github.io/ist263/project/i-saw-the-devil-review.html';
									break;
								// default:
								//     window.location.href = 'https://www.example.com';
								//     break;
							}
						});
						
						movieContainer.appendChild(movieBox);
					});
				}
			
				function applyFilters() {
					const titleFilter = document.getElementById('title').value.toLowerCase();
					const releaseYearFilter = document.getElementById('releaseDate').value;
					const genreFilter = document.getElementById('genres').value.toLowerCase();
					const orderByFilter = document.getElementById('orderBy').value;
				
					const filteredMovies = movies.filter(movie => {
					const titleMatch = movie.title.toLowerCase().includes(titleFilter);
					const releaseYearMatch = releaseYearFilter === '' || movie.releaseYear === releaseYearFilter;
					const genreMatch = genreFilter === '' || movie.genres.some(genre => genre.toLowerCase() === genreFilter);


					return titleMatch && releaseYearMatch && genreMatch;
				});

					if (orderByFilter === 'newestrelease') {
						filteredMovies.sort((a, b) => b.releaseYear.localeCompare(a.releaseYear));
					} else if (orderByFilter === 'oldestrelease') {
						filteredMovies.sort((a, b) => a.releaseYear.localeCompare(b.releaseYear));
					} else if (orderByFilter === 'highestrated') {
						filteredMovies.sort((a, b) => b.rating - a.rating);
					} else if (orderByFilter === 'lowestrated') {
						filteredMovies.sort((a, b) => a.rating - b.rating);
					} else if (orderByFilter === 'az') {
						filteredMovies.sort((a, b) => a.title.localeCompare(b.title));
					} else if (orderByFilter === 'za') {
						filteredMovies.sort((a, b) => b.title.localeCompare(a.title));
					}
			

					renderMovies(filteredMovies);
				}
			
				renderMovies(movies);

				document.getElementById('title').addEventListener('input', applyFilters);
				document.getElementById('releaseDate').addEventListener('change', applyFilters);
				document.getElementById('genres').addEventListener('change', applyFilters);
				document.getElementById('orderBy').addEventListener('change', applyFilters);
			</script>
		</div>
	</body>
</html>
